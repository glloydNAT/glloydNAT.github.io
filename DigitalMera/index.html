<!DOCTYPE html>

<head>
    <title>A Digital Mera: Population Changes in the Rio Grande Glaze-Paint Area</title>

    <!-- These are backup functions in case there's a problem loading the local version -->
    <script>
        function onLocalLeafletLoadError() {
            document.write('<scr' + 'ipt src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></scr' + 'ipt>');
        }

        function onLocalLeafletCSSLoadError() {
            document.write('<lin' + 'k rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>');
        }

        function onLocalSHPLoadError() {
            document.write('<scr' + 'ipt src="//unpkg.com/shpjs@latest/dist/shp.min.js"></scr' + 'ipt>');
        }

        function onLocalBootstrapLoadError() {
            document.write('<scr' + 'ipt src"https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></scr' + 'ipt');
        }

        function onLocalBootstrapCSSLoadError() {
            document.write('<lin' + 'l rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"/>');
        }
        function onLocalLeafletFullscreenLoadError(){
            document.write('<scr'+'ipt src="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js"></scr'+'ipt>');
    
        }
        function onLocalLeafletFullscreenCSSLoadError() {
            document.write('<lin'+'k href="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css"/>');
            
        }
    </script>

    <!-- The local versions of our javascript and css libraries-->
    <script src="JS_CSS_downloaded_libraries/leaflet.js" onerror="onLocalLeafletLoadError()"></script>
    <link rel="stylesheet" href="JS_CSS_downloaded_libraries/leaflet.css" onerror="onLocalLeafletCSSLoadError()" />
    <script src="JS_CSS_downloaded_libraries/shp.min.js" onerror="onLocalSHPLoadError()"></script>
    <script src="JS_CSS_downloaded_libraries/bootstrap.bundle.min.js" onerror="onLocalBootstrapLoadError()"></script>
    <link rel="stylesheet" href="JS_CSS_downloaded_libraries/bootstrap.min.css"
        onerror="onLocalBootstrapCSSLoadError()" />
    <script src="JS_CSS_downloaded_libraries/leaflet-timeline-slider.min.js"></script>
    <script src="JS_CSS_downloaded_libraries/leaflet.fullscreen.min.js" onerror="onLocalLeafletFullscreenLoadError()"></script>
    <link rel="stylesheet" href="JS_CSS_downloaded_libraries/leaflet.fullscreen.css" onerror="onLocalLeafletFullscreenCSSLoadError()">
    <script src="JS_CSS_downloaded_libraries/leaflet-bootstrap-dropdowns.min.js"></script>
    <script src="JS_CSS_downloaded_libraries/leaflet.legend.js"></script>
    <link rel="stylesheet" href="JS_CSS_downloaded_libraries/leaflet.legend.css" />
    
    <!-- our css file-->
    <link rel="stylesheet" href="myCss_styleFiles/DigitalMera.css" /> 

</head>

<body>
    <!-- Our Splashscreen modal-->
    <div class="modal" tabindex="-1" id="splashScreen">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Welcome to 'A Digital Mera'</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>Created by:</h6> 
                    <ul>
                        <li><a href="https://glloydnat.github.io/" target="_blank">Garrett Lloyd</a> (glloyd1@unm.edu)</li>
                        <li><a href="https://gavinschorrarchaeology.github.io/" target="_blank">Gavin Schorr</a> (gschorr2468@unm.edu)</li>
                        <li><a href="https://bennolee.github.io/" target="_blank">Benno Lee</a> (bennolee1@unm.edu)</li>
                    </ul>
                    <h6>Project advisor:  <a href="https://www.lipingyang.org/" target="_blank">Dr. Liping Yang</a></h6>
                    <hr>
                    <h5 class="modalHCenter">About</h5>
                    <p> This interactive map brings H.P. Mera's 1940 study, <i>Population Changes in the Rio Grande
                            Glaze-paint Area</i>, into the digital age.</p>
                    <p>Using ceramic typologies to track settlement shifts over time, Mera mapped 205 archaeological
                        sites across eight cultural regions in the Middle Rio Grande Valley.</p>
                    <p>Our project lets you explore these patterns across five time periods and view some site details
                        --all while preserving the integrity of sensitive site locations.</p>
                    <br />
                    <h5 class="modalHCenter">References</h5>
                    <p>Bandelier, Adolph (1910). <cite>Documentary History of the Rio Grande Pueblos of New Mexico</cite>. Archaeological Institute of America.</p>
                    <p>Jennings, J. D., Reed, E. K., Griffin, J. B., Kelley, J. C., Meighan, C. W., Stubbs, S., Wheat, J. B., & Taylor, D. C. (1956). <cite>The American Southwest: A Problem in Cultural Isolation.</cite> Memoirs of the Society for American Archaeology, 11, 59-127.</p>
                    <p>Mera, H.P. (1940). <cite>Population Changes in the Rio Grande Glaze-Paint Area.</cite>  Laboratory of Anthropology, University of New Mexico.</p>
                    <p>O'Donnell, L.Meyer, J.V., & Ragsdale, C.S. (2020) <cite>Trade Relationships and Gene Flow at Pottery Mound Pueblo, New Mexico. American Antiquity, 85(3), 492-515.</cite></p>
                    <p>Peckham, S. (1984). <cite>The Anasazi culture of the northern Rio grande rift.</cite> Rio Grande Rift (Northern New Mexico). https://api.semanticscholar.org/CorpusID:54069470</p>
                    <p>Wendorf, Fred and Erik Reed (1955). <cite>Alternative Reconstruction of Northern Rio Grande Prehistory.</cite> El Palacio, 62,131-173.</p>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>

    <!-- Our map container-->
    <div class="mx-auto" id="mapId"></div>
    
    
    <script>
        // invoke splashscreen modal
        const splashScreen = new bootstrap.Modal('#splashScreen');
        splashScreen.show();
    </script>

    <!-- import our map script-->
    <script src="myJS_scripts/DigitalMera.js"></script>

</body>
</html>